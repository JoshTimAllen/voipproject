{"version":3,"file":"voice-fIta6n6h.js","sources":["../../../.svelte-kit/adapter-node/chunks/voice.js"],"sourcesContent":["import { c as create_ssr_component, e as each, b as escape, v as validate_component, m as missing_component } from \"./ssr.js\";\nimport \"https://esm.sh/peerjs@1.5.2?bundle-deps\";\nconst css$1 = {\n  code: \".incoming-call-container.svelte-19roec1{position:fixed;right:0;bottom:0;z-index:10000;width:450px;background:rgb(61, 61, 61);height:350px;margin-right:40px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.button-area.svelte-19roec1{width:100%;display:flex;justify-content:space-evenly;align-items:center}\",\n  map: null\n};\nconst Incomingcall = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { callerUserName = \"\" } = $$props;\n  let { Answer = (callerUserName2 = \"\") => {\n  } } = $$props;\n  let { Decline = (callerUserName2 = \"\") => {\n  } } = $$props;\n  if ($$props.callerUserName === void 0 && $$bindings.callerUserName && callerUserName !== void 0)\n    $$bindings.callerUserName(callerUserName);\n  if ($$props.Answer === void 0 && $$bindings.Answer && Answer !== void 0)\n    $$bindings.Answer(Answer);\n  if ($$props.Decline === void 0 && $$bindings.Decline && Decline !== void 0)\n    $$bindings.Decline(Decline);\n  $$result.css.add(css$1);\n  return `<div class=\"incoming-call-container svelte-19roec1\"><div class=\"image-container\" data-svelte-h=\"svelte-1kyomsk\"><img src=\"https://static.wikia.nocookie.net/worldtrigger/images/c/c4/Ko_88.png/revision/latest?cb=20211024225357\" class=\"rounded-circle mr-1 incoming-img\" alt=\"\" width=\"220\" height=\"220\"></div> <div class=\"button-area svelte-19roec1\"><button type=\"button\" class=\"btn btn-success\" data-svelte-h=\"svelte-u7x4sh\">Answer</button> <button type=\"button\" class=\"btn btn-danger\" data-svelte-h=\"svelte-1da1e5r\">Decline</button></div> </div>`;\n});\nclass CallData {\n  constructor() {\n    this.participants = [];\n  }\n  participants = [];\n}\nconst css = {\n  code: \".incoming-call-container.svelte-19roec1{position:fixed;right:0;bottom:0;z-index:10000;width:450px;background:rgb(61, 61, 61);height:350px;margin-right:40px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}.button-area.svelte-19roec1{width:100%;display:flex;justify-content:space-evenly;align-items:center}\",\n  map: null\n};\nconst Callview = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { calldata = new CallData() } = $$props;\n  let { callerUserName = \"\" } = $$props;\n  let { Answer = (callerUserName2 = \"\") => {\n  } } = $$props;\n  let { Decline = (callerUserName2 = \"\") => {\n  } } = $$props;\n  if ($$props.calldata === void 0 && $$bindings.calldata && calldata !== void 0)\n    $$bindings.calldata(calldata);\n  if ($$props.callerUserName === void 0 && $$bindings.callerUserName && callerUserName !== void 0)\n    $$bindings.callerUserName(callerUserName);\n  if ($$props.Answer === void 0 && $$bindings.Answer && Answer !== void 0)\n    $$bindings.Answer(Answer);\n  if ($$props.Decline === void 0 && $$bindings.Decline && Decline !== void 0)\n    $$bindings.Decline(Decline);\n  $$result.css.add(css);\n  return `${each(calldata.participants, (particpant) => {\n    return `<div class=\"incoming-call-container svelte-19roec1\"><div class=\"image-container\" data-svelte-h=\"svelte-1ul5uuc\"><img src=\"https://static.wikia.nocookie.net/worldtrigger/images/c/c4/Ko_88.png/revision/latest?cb=20211024225357\" class=\"rounded-circle mr-1 incoming-img\" alt=\"\" width=\"220\" height=\"220\"></div> <h3>${escape(particpant[\"username\"])}</h3> </div>`;\n  })} <div class=\"button-area svelte-19roec1\"><button type=\"button\" class=\"btn btn-success\" data-svelte-h=\"svelte-1e2gltt\">Answer</button> <button type=\"button\" class=\"btn btn-danger\" data-svelte-h=\"svelte-t5pddb\">Decline</button> </div>`;\n});\nconst Voice = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { val = \"hjbhjkhkjkjhkjhjklhkljklhjkl\" } = $$props;\n  let { incomingCalls = [\"jkkjl;llllllll\"] } = $$props;\n  const event = new CustomEvent(\"event\");\n  let { calldata = new CallData() } = $$props;\n  var socket = io(\"/\", {});\n  var peer;\n  const Call = (callerUserName = \"\") => {\n    var calldata2 = {\n      userToCall: callerUserName,\n      peerId: peer.id\n    };\n    socket.emit(\"call\", calldata2);\n  };\n  let { Answer = (userToAnswer = \"\") => {\n    var calldata2 = { otherUser: userToAnswer, peerId: peer.id };\n    socket.emit(\"answer-call\", calldata2);\n  } } = $$props;\n  let { Reject = (userToReject = \"\") => {\n    var calldata2 = { otherUser: userToReject };\n    socket.emit(\"reject-call\", calldata2);\n  } } = $$props;\n  const LeaveCall = () => {\n    var calldata2 = {};\n    socket.emit(\"leave-call\", calldata2);\n  };\n  var audioQueue = [];\n  var ableToPlayNew = true;\n  setInterval(\n    function() {\n      if (ableToPlayNew) {\n        audioPlay();\n      }\n    },\n    100\n  );\n  function audioPlay() {\n    if (ableToPlayNew) {\n      if (audioQueue.length != 0) {\n        let audio = new Audio(audioQueue.splice(0, 1)[0]);\n        audio.addEventListener(\n          \"ended\",\n          function() {\n            ableToPlayNew = true;\n            audioPlay();\n          },\n          false\n        );\n        audio.play();\n        ableToPlayNew = false;\n      }\n    }\n  }\n  if ($$props.val === void 0 && $$bindings.val && val !== void 0)\n    $$bindings.val(val);\n  if ($$props.incomingCalls === void 0 && $$bindings.incomingCalls && incomingCalls !== void 0)\n    $$bindings.incomingCalls(incomingCalls);\n  if ($$props.event === void 0 && $$bindings.event && event !== void 0)\n    $$bindings.event(event);\n  if ($$props.calldata === void 0 && $$bindings.calldata && calldata !== void 0)\n    $$bindings.calldata(calldata);\n  if ($$props.Call === void 0 && $$bindings.Call && Call !== void 0)\n    $$bindings.Call(Call);\n  if ($$props.Answer === void 0 && $$bindings.Answer && Answer !== void 0)\n    $$bindings.Answer(Answer);\n  if ($$props.Reject === void 0 && $$bindings.Reject && Reject !== void 0)\n    $$bindings.Reject(Reject);\n  if ($$props.LeaveCall === void 0 && $$bindings.LeaveCall && LeaveCall !== void 0)\n    $$bindings.LeaveCall(LeaveCall);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    $$rendered = `${each(incomingCalls, (incomingcall) => {\n      return `${validate_component(Incomingcall || missing_component, \"svelte:component\").$$render(\n        $$result,\n        {\n          callerUserName: incomingcall,\n          Answer,\n          Decline: Reject\n        },\n        {\n          Answer: ($$value) => {\n            Answer = $$value;\n            $$settled = false;\n          },\n          Decline: ($$value) => {\n            Reject = $$value;\n            $$settled = false;\n          }\n        },\n        {}\n      )}`;\n    })} ${validate_component(Callview || missing_component, \"svelte:component\").$$render(\n      $$result,\n      { calldata, Answer, Decline: Reject },\n      {\n        calldata: ($$value) => {\n          calldata = $$value;\n          $$settled = false;\n        },\n        Answer: ($$value) => {\n          Answer = $$value;\n          $$settled = false;\n        },\n        Decline: ($$value) => {\n          Reject = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Voice as V\n};\n"],"names":[],"mappings":"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"}